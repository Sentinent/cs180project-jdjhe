const router = require('express').Router();
const { searchAll } = require('./search');

router.route('/data/table').get((req, res) => {

 // A list of all the violation titles with the index representing the violation codes.
  let names = ["FAILURE TO DISPLAY BUS PERMIT", "NO OPERATOR NAM/ADD/PH DISPLAY", 
"UNAUTHORIZED PASSENGER PICK-UP", "BUS PARKING IN LOWER MANHATTAN", 
"BUS LANE VIOLATION", "OVERNIGHT TRACTOR TRAILER PKG", "FAILURE TO STOP AT RED LIGHT",
"IDLING", "OBSTRUCTING TRAFFIC/INTERSECT", "NO STOPPING-DAY/TIME LIMITS",
"NO STANDING-HOTEL LOADING", "NO STANDING-SNOW EMERGENCY", "NO STANDING-TAXI STAND",
"NO STANDING-DAY/TIME LIMITS", "NO STANDING-OFF-STREET LOT", "NO STANDING-EXC. TRUCK LOADING",
"NO STANDING-EXC. AUTH. VEHICLE", "NO STANDING-BUS LANE", "NO STANDING-BUS STOP",
"NO PARKING-DAY/TIME LIMITS", "NO PARKING-STREET CLEANING", "NO STAND TAXI/FHV RELIEF STAND",
"NO PARKING-TAXI STAND", "NO PARKING-EXC. AUTH. VEHICLE", "NO STANDING-COMMUTER VAN STOP",
"NO STANDING-FOR HIRE VEH STND", "NO PARKING-EXC. DSBLTY PERMIT", "OVERTIME STANDING DP",
"ALTERING INTERCITY BUS PERMIT", "NO STOP/STANDNG EXCEPT PAS P/U", "NO STANDING-COMM METER ZONE",
"OT PARKING-MISSING/BROKEN METR", "FEEDING METER", "EXPIRED METER", "SELLING/OFFERING MCHNDSE-METER",
"PHTO SCHOOL ZN SPEED VIOLATION", "EXPIRED MUNI METER", "FAIL TO DSPLY MUNI METER RECPT",
"OVERTIME PKG-TIME LIMIT POSTED", "FIRE HYDRANT", "MISCELLANEOUS", "EXPIRED MUNI MTR-COMM MTR ZN",
"EXPIRED METER-COMM METER ZONE", "PKG IN EXC. OF LIM-COMM MTR ZN", "TRAFFIC LANE",
"DOUBLE PARKING", "DOUBLE PARKING-MIDTOWN COMML", "BIKE LANE", "EXCAVATION-VEHICLE OBSTR TRAFF",
"CROSSWALK", "SIDEWALK", "INTERSECTION", "SAFETY ZONE", "PCKP DSCHRGE IN PRHBTD ZONE",
"ELEVATED/DIVIDED HIGHWAY/TUNNL", "DIVIDED HIGHWAY", "BLUE ZONE", "MARGINAL STREET/WATER FRONT",
"ANGLE PARKING-COMM VEHICLE", "ANGLE PARKING", "WRONG WAY", "BEYOND MARKED SPACE",
"NIGHTTIME STD/ PKG IN A PARK", "NO STANDING EXCP D/S", "OVERTIME STDG D/S",
"DETACHED TRAILER", "PEDESTRIAN RAMP", "NON-COMPLIANCE W/ POSTED SIGN",
"FAIL TO DISP. MUNI METER RECPT", "REG. STICKER-EXPIRED/MISSING", "INSP. STICKER-EXPIRED/MISSING",
"INSP STICKER-MUTILATED/C'FEIT", "REG STICKER-MUTILATED/C'FEIT", "FRONT OR BACK PLATE MISSING",
"NO MATCH-PLATE/STICKER", "VIN OBSCURED", "PARKED BUS-EXC. DESIG. AREA",
"NGHT PKG ON RESID STR-COMM VEH", "UNAUTHORIZED BUS LAYOVER", "MISSING EQUIPMENT",
"NO STANDING EXCP DP", "COMML PLATES-UNALTERED VEHICLE", "IMPROPER REGISTRATION",
"PLTFRM LFTS LWRD POS COMM VEH", "STORAGE-3HR COMMERCIAL", "MIDTOWN PKG OR STD-3HR LIMIT",
"UNALTERED COMM VEHICLE", "UNALTERED COMM VEH-NME/ADDRESS", "NO STD(EXC TRKS/GMTDST NO-TRK)",
"VEH-SALE/WSHNG/RPRNG/DRIVEWAY", "VEHICLE FOR SALE(DEALERS ONLY)", "WASH/REPAIR VEHCL-REPAIR ONLY",
"REMOVE/REPLACE FLAT TIRE", "RAILROAD CROSSING", "VACANT LOT", "OBSTRUCTING DRIVEWAY", "OTHER"];

let final = [];

// Save all the Violation Codes and their respective titles and send them to the frontend
for (var i = 0; i < names.length; i++)
{
    var line = {
        ViolationCode: i + 1,
        Title: names[i],
    };

    final.push(line);
}

  res.send(final);
});

module.exports = router;










